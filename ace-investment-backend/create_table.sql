CREATE TYPE user_type_enum AS ENUM ('investor', 'landlord', 'admin'); CREATE TABLE profiles (id UUID REFERENCES auth.users ON DELETE CASCADE PRIMARY KEY, email TEXT UNIQUE NOT NULL, first_name TEXT, last_name TEXT, phone TEXT, user_type user_type_enum NOT NULL DEFAULT 'investor', profile_complete BOOLEAN DEFAULT FALSE, avatar_url TEXT, bio TEXT, location TEXT, created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL, updated_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL); ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
